<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="why shedule?
 keep cpu busy (cpu utilisation) so processed dont hae to spend time waithing for the CPU  even if cpu is always busy executing processses in different orders can change the average time spent in queue   cpu burst    (diagram is old the timing will have changed) between burst - waiting for io   so that interactive processes respond quickly  time spent waiting in total average time between visits to CPU      criteria"><title>19-cpu-scheduling</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://jethughes.github.io/notes//icon.png><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Sans+Pro:wght@400;600;700&family=Fira+Code:wght@400;700&display=swap" rel=stylesheet><link href=https://jethughes.github.io/notes/styles.1a1ffb6f8cc2d9990f06b61d70c9b09b.min.css rel=stylesheet><script src=https://jethughes.github.io/notes/js/darkmode.46b07878b7f5d9e26ad7a3c40f8a0605.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script src=https://jethughes.github.io/notes/js/popover.688c5dcb89a57776d7f1cbeaf6f7c44b.min.js></script>
<script>const BASE_URL="https://jethughes.github.io/notes/",fetchData=Promise.all([fetch("https://jethughes.github.io/notes/indices/linkIndex.86ad3f1db00203ddbb0557f3451d8365.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://jethughes.github.io/notes/indices/contentIndex.946928320c51820c648b0707a4fdb6a3.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const n=new URL("https://jethughes.github.io/notes/"),s=n.pathname,o=window.location.pathname,i=s==o,e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=i&&!1;drawGraph("https://jethughes.github.io/notes",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2}),initPopover("https://jethughes.github.io/notes",!0,!0)},init=(e=document)=>{renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/jethughes.github.io\/notes\/js\/router.557a499829be51f9008c6efa5b73602a.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://jethughes.github.io/notes/js/search.cf33b507388f3dfd5513a2afcda7af41.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://jethughes.github.io/notes/>Jet's Notes</a></h1><svg tabindex="0" id="search-icon" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg><div class=spacer></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>19-cpu-scheduling</h1><p class=meta>Last updated November 11, 2022</p><ul class=tags><li><a href=https://jethughes.github.io/notes/tags/cosc204/>Cosc204</a></li><li><a href=https://jethughes.github.io/notes/tags/lecture/>Lecture</a></li></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#gantt-charts>Gantt charts</a></li><li><a href=#first-come-first-served-fcfs>First come first served (FCFS)</a></li><li><a href=#shortest-job-first-sjf>Shortest job first (SJF)</a><ol><li><a href=#predicting-next-burst-time>predicting next burst time</a></li></ol></li><li><a href=#priority-scheduling>Priority scheduling</a></li><li><a href=#starvation-and-aging>Starvation and aging</a></li><li><a href=#round-robin>Round Robin</a></li></ol></nav></details></aside><p>why shedule?</p><ul><li>keep cpu busy (cpu utilisation)</li><li>so processed dont hae to spend time waithing for the CPU<ul><li>even if cpu is always busy executing processses in different orders can change the average time spent in queue</li></ul></li><li>cpu burst<ul><li><img src=https://i.imgur.com/0eTDVVu.png alt></li><li>(diagram is old the timing will have changed)</li><li>between burst - waiting for io</li></ul></li><li>so that interactive processes respond quickly<ul><li>time spent waiting in total</li><li>average time between visits to CPU</li><li><img src=https://i.imgur.com/w9H7MZ7.png alt></li></ul></li></ul><p>criteria</p><ul><li>CPU utilisation - % time CPU is busy</li><li>throughput - number of processes completed per time unit</li><li>turnaround time - (for a single process) length of time from submitted to completed</li><li>waiting time - (for a single process) time spent waiting for the CPU<ul><li>does include time wating for IO</li></ul></li><li>response time - (for a signle process) average time from the submission of a request to a process until the first response is produced</li></ul><p>Preemption</p><ul><li>4 situations for scheduling<ol><li>a process switches from running to waiting</li><li>a process switches from running to ready (due to interrupt)</li><li>a process switches from wauting to ready (due to comletion of IO)</li><li>a process terminates</li></ol></li><li>non preemptive - scheduling take splace only under 1 nd 4, which has no choice</li><li>premptive - scheduling can take place under 2 and 3 as well. that means a running process has to give way to the processes with higher priority</li></ul><p>if you allow interruption it is preemptive</p><a href=#scheduling-algorithms><h1 id=scheduling-algorithms><span class=hanchor arialabel=Anchor># </span>Scheduling algorithms</h1></a><a href=#gantt-charts><h2 id=gantt-charts><span class=hanchor arialabel=Anchor># </span>Gantt charts</h2></a><p>The operation of scheduling algortihm is commonly represented in a Gantt chart</p><p><img src=https://i.imgur.com/haqjMOW.png alt="example chart|400">
<img src=https://i.imgur.com/iqtT90Q.png alt="gantt evaluation|400"></p><a href=#first-come-first-served-fcfs><h2 id=first-come-first-served-fcfs><span class=hanchor arialabel=Anchor># </span>First come first served (FCFS)</h2></a><p><img src=https://i.imgur.com/yAd4LRl.png alt=diagram|400></p><p>simplest method- executes processes in the ready queue on a first come first served basis</p><ul><li>when a proces become ready it is put at the tail of the queue</li><li>when the currently executig process terminates, or waits for IO, the process at the front of the queue is selected next</li><li>processes can come at any time - what if two at the same time? choose process with smallest ID to serve first</li></ul><p>non-preemptive</p><p>pro</p><ul><li>easy to understand and implement
con</li><li>waiting time bad</li><li>convoy effect: lots of small process can get stuck behind a big on</li><li>bad response time</li></ul><p>fair but not efficient</p><a href=#shortest-job-first-sjf><h2 id=shortest-job-first-sjf><span class=hanchor arialabel=Anchor># </span>Shortest job first (SJF)</h2></a><p>choose the job in the queue with the shortest burst time.</p><ul><li>equal burst time are executed FCFS (by process id)</li></ul><p><img src=https://i.imgur.com/nzwBwjc.png alt="SJF example|400"></p><p>pro</p><ul><li>provably optimal average waiting time</li></ul><p>con</p><ul><li>never know in advance what the length of next cpu burst will be</li><li>possibility of long processes never being executed<ul><li>starvation of process</li></ul></li><li>not &ldquo;fair&rdquo;</li></ul><a href=#predicting-next-burst-time><h3 id=predicting-next-burst-time><span class=hanchor arialabel=Anchor># </span>predicting next burst time</h3></a><p>machine learning sorta - burst length predicted from previous CPU bursts using exponential average equation
<img src=https://i.imgur.com/pPydNXN.png alt=example|400></p><p>preemption example</p><ul><li>p1 is executing</li><li>p2 arrived with burst time shorter that remainging bust time of P1<ul><li>non preemptive - P1 finishes</li><li>preemptive - P2 takes CPU</li></ul></li></ul><p><img src=https://i.imgur.com/oJbB3d4.png alt=example|400></p><a href=#priority-scheduling><h2 id=priority-scheduling><span class=hanchor arialabel=Anchor># </span>Priority scheduling</h2></a><ul><li>each process allocated a priotit when it arrives</li><li>cpu is allocated to the process with the highest priority</li></ul><p>low number is a higher priority</p><ul><li>non preemptive - run processes until finished</li><li>preemptive - higher priority process should take over CPU when they arrive</li></ul><p>SJF is a type of priority scheduling where the priority is based on the estimated next cpu burst</p><p><img src=https://i.imgur.com/lLhSjtY.png alt=example|400></p><a href=#starvation-and-aging><h2 id=starvation-and-aging><span class=hanchor arialabel=Anchor># </span>Starvation and aging</h2></a><p>starvation occurs when a proces waits indefinitely to be allocated the CPU</p><p>aging - as a process waits its priority increases</p><a href=#round-robin><h2 id=round-robin><span class=hanchor arialabel=Anchor># </span>Round Robin</h2></a><p>commonly used today</p><p>designed for time sharing systems</p><ul><li>small unit of time (time quantum) if defined</li><li>ready queue is treated as a circular list</li><li>cpu schedular goes round the ready queue, allocating the CPU to each process for a time interval up to 1 time quantum</li></ul><p><img src=https://i.imgur.com/7swmOID.png alt=slide|400>
<img src=https://i.imgur.com/Crl3xOz.png alt=example|400></p><p>choosing time quantum</p><ul><li>if infinitely large - we have FCFS</li><li>if very small - we have processor sharing - lots of overhead for switching</li></ul><p><img src=https://i.imgur.com/aDemb5s.png alt=pros/cons></p></article><hr><div class=page-end><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li><a href=/notes/notes/cosc-204/ data-ctx=19-cpu-scheduling data-src=/notes/cosc-204 class=internal-link>cosc-204</a></li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://jethughes.github.io/notes/js/graph.afdb02e537635f9a611b53a988e5645b.js></script></div></div><div id=contact_buttons><footer><p>Made with <a href=https://obsidian.md>Obsidian</a> using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, 2022</p><ul><li><a href=/notes/>Home</a></li><li><a href=https://github.com/jethughes>Github</a></li><li><a href=https://www.linkedin.com/in/jet-hughes-b3b688237>LinkedIn</a></li></ul></footer></div></div></body></html>