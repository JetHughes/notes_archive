<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Terminology   Precision vs. Accuracy
  How practical are systems that are:
 Precise but not accurate? Accurate but not precise?"><title>07-location-sensors</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://jethughes.github.io/notes//icon.png><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Sans+Pro:wght@400;600;700&family=Fira+Code:wght@400;700&display=swap" rel=stylesheet><link href=https://jethughes.github.io/notes/styles.1a1ffb6f8cc2d9990f06b61d70c9b09b.min.css rel=stylesheet><script src=https://jethughes.github.io/notes/js/darkmode.46b07878b7f5d9e26ad7a3c40f8a0605.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script src=https://jethughes.github.io/notes/js/popover.688c5dcb89a57776d7f1cbeaf6f7c44b.min.js></script>
<script>const BASE_URL="https://jethughes.github.io/notes/",fetchData=Promise.all([fetch("https://jethughes.github.io/notes/indices/linkIndex.dd7a0bcd0bf1e3b79542f962c24d0858.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://jethughes.github.io/notes/indices/contentIndex.e0b3f7acb17612f07fe15cc276eae18b.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const n=new URL("https://jethughes.github.io/notes/"),s=n.pathname,o=window.location.pathname,i=s==o,e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=i&&!1;drawGraph("https://jethughes.github.io/notes",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2}),initPopover("https://jethughes.github.io/notes",!0,!0)},init=(e=document)=>{renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/jethughes.github.io\/notes\/js\/router.557a499829be51f9008c6efa5b73602a.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://jethughes.github.io/notes/js/search.cf33b507388f3dfd5513a2afcda7af41.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://jethughes.github.io/notes/>Jet's Notes</a></h1><svg tabindex="0" id="search-icon" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg><div class=spacer></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>07-location-sensors</h1><p class=meta>Last updated March 21, 2023</p><ul class=tags><li><a href=https://jethughes.github.io/notes/tags/lecture/>Lecture</a></li><li><a href=https://jethughes.github.io/notes/tags/info305/>Info305</a></li></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#terminology>Terminology</a></li><li><a href=#cell-based>Cell-based</a></li><li><a href=#proximity-sensors--near-field-communication>Proximity Sensors & Near Field Communication</a></li></ol></nav></details></aside><a href=#terminology><h2 id=terminology><span class=hanchor arialabel=Anchor># </span>Terminology</h2></a><ul><li><p>Precision vs. Accuracy</p></li><li><p>How practical are systems that are:</p><ul><li>Precise but not accurate?</li><li>Accurate but not precise?
<img src=https://i.imgur.com/r0dRA8K.png alt="Accuracy vs. Precision"></li></ul></li><li><p>Degrees of Freedom (DoF):</p></li><li><p>How many translational and rotational movements are possible?</p></li><li><p>How many degrees of freedom in 3D space?</p><ul><li>2 DoF?</li><li>3 DoF?</li><li>6 DoF?</li><li>9 DoF?</li><li>Unlimited DoF?</li></ul></li><li><p>How many degrees of freedom in 2D space?
<img src=https://i.imgur.com/uWDwFsO.png alt="Degrees of Freedom"></p></li><li><p>(Tri)angulation:</p><ul><li>Based on angles between signals<ul><li>Referred to as angles of arrival</li><li>Angle to reference point determined by means of special antennas</li></ul></li><li>Positions of reference points have to be known</li><li>3D-positioning requires three reference points (triangulation)
<img src=https://i.imgur.com/8k8aD5h.png alt=Angulation></li></ul></li></ul><blockquote><p>[!INFO] if you have two reference points and the angle towards them, you can get the location</p></blockquote><ul><li>(Tri)lateration<ul><li>Based on distances between device and reference points</li><li>Calculated e.g. by time of arrival (ToA) or signal strength</li><li>Positions of reference points have to be known</li><li>3D-positioning requires three reference points (trilateration)
<img src=https://i.imgur.com/KQTJDSH.png alt=Lateration></li></ul></li></ul><blockquote><p>[!INFO] siimilra to triangulation but you need three points and its calculated using distancees not angles. the distances can be calculated by time of arrival of a signal</p></blockquote><a href=#cell-based><h2 id=cell-based><span class=hanchor arialabel=Anchor># </span>Cell-based</h2></a><ul><li>Positioning based on GSM cell ID</li><li>Mobile Positioning System (MPS) by Ericsson to improve accuracy<ul><li>Few changes of infrastructure</li><li>No changes of user devices</li></ul></li></ul><ol><li>Cell Global Identity (CGI) for identification of the cell<ul><li>Uses GSM cell ID</li><li>If sector-antennas used position can be narrowed to segment of the circle</li><li>Angulation
<img src=https://i.imgur.com/uzTcwTC.png alt></li></ul></li></ol><blockquote><p>[!INFO] compute your position based on which cell tower you are connected to. each tower has a unique ID.
used by emergency providers, they know where you last logged in</p></blockquote><ol start=2><li>GSM based on FDMA (Frequency-division multiple access) and TDMA (Time-division multiple access)<ul><li>Exact timing required for the synchronization of uplink and downlink</li><li>Timing Advance (TA)</li><li>Device calculates distance based on signal propagation time</li><li>Can be used for positioning in combination with CGI
<img src=https://i.imgur.com/zGMWd9E.png alt=|200>
<img src=https://i.imgur.com/U2VHcye.png alt></li></ul></li></ol><blockquote><p>[!INFO] &ldquo;towers&rdquo; use FDMA or TDMA <a href="/notes/notes/21-data-link-layer#multiple access links and protocols" rel=noopener class=internal-link data-src=/notes/notes/21-data-link-layer>21-data-link-layer</a> Timing advance used for multiple access can be used to calculate time</p></blockquote><ol start=3><li>Uplink-Time Difference of Arrival (UL-TOA)<ul><li>Four base stations needed</li><li>Measurement of signal propagation time at base stations</li><li>Calculation of position based on lateration</li><li>Accuracy 50 – 150m</li><li>Network-based location technology,<ul><li>Can locate any type of mobile phone.</li><li>Only available to the owner of the sensor network
<img src=https://i.imgur.com/CI07t5Z.png alt="Uplink-Time Difference of Arrival"></li></ul></li></ul></li></ol><blockquote><p>[!INFO]biggest drawback is that it is network based - cant be used offline. and you phone doesn&rsquo;t have this data - only the network provider e.g., vodaphone. the police and request vodaphone to send them data for your phone</p></blockquote><p>cell based location summary</p><ul><li><p>Integrated approach based on existing infrastructure</p></li><li><p>Low costs (for user)</p></li><li><p>Low power draw</p></li><li><p>High availability</p></li><li><p>Works indoor and outdoor (no direct line of sight needed)</p></li><li><p>Information not always available to the user (often only network provider)</p><ul><li>Used for “Enhanced 911”</li></ul></li><li><p>But relatively low accuracy
<img src=https://i.imgur.com/oLITCmM.png alt></p></li><li><p>Other cell-based location approaches: WiFi/WLan-cells</p><ul><li>Integrated infrastructure approach</li><li>WiFi/WLAN (cell-id, lateration, fingerprinting)
<img src=https://i.imgur.com/VSMfEqW.png alt></li></ul></li><li><p>Based on already existing WLAN infrastructure, primarily installed for communication purposes</p></li><li><p>Cell ID requires database with mapping WiFi cell ID to GPS or …. (e.g. created by Apple, Google)</p></li><li><p>Lateration</p><ul><li>Requires accurate information about access point positions</li><li>Measurement of signal strength of various access points<ul><li>At least three access points have to be available</li><li>Measurements are influenced by obstacles like walls</li></ul></li></ul></li><li><p>Improved approach: Fingerprinting</p></li><li><p>Fingerprinting:</p><ul><li>1st Phase: Radio Map Creation (Offline):<ul><li>Measurements of fingerprints at reference points -> stored in fingerprint DB</li></ul></li><li>Definition of reference points according to accuracy needs and building structure</li></ul></li><li><p>2nd Phase: Radio Map Usage (Online):</p><ul><li>Fingerprint of current position is taken</li><li>Search for closest matching reference point on radio map Position taken from that reference point or interpolated</li></ul></li></ul><blockquote><p>[!INFO] uses trilateration</p></blockquote><ul><li>Fingerprint<ul><li>Location: lat,lon,floor</li><li>VisibleAccessPoints{<ul><li>Fingerprint DB</li><li>AP1:<ul><li>SSID: eduroam</li><li>MAC: 08:17:35:33:5f:80</li><li>signal strength: -64</li></ul></li><li>AP2<ul><li>SSID: VPN/WEB</li><li>MAC: 08:17:35:33:5f:81</li><li>signal strength: -61</li></ul></li><li>APn o&mldr;
<img src=https://i.imgur.com/vJSirwu.png alt></li></ul></li></ul></li></ul><blockquote><p>[!INFO] e.g., when you load google maps, you send this fingerprint. indoors you send access points, if outside you send gps and access points. by combining data they know the rough location of access points. google maps used their database of access points to know where requests are coming from
if acces point is moved the database can be invalid for a short time
∴ position is not always from GPS
access points dont need to be connected to be transmitted in the fingerprint
also only work online because you need database query</p></blockquote><p>Fingerprinting services using Wifi</p><ul><li><p>~99% of queries use Google location database (Google Maps Geolocation API)</p><ul><li><a href=https://developers.google.com/maps/documentation/geolocation rel=noopener>https://developers.google.com/maps/documentation/geolocation</a></li><li>Access is logged</li><li>Used to improve DB</li><li>Privacy issues (e.g. private routers)</li></ul></li><li><p>Alternatives (less coverage & accuracy)</p><ul><li>OpenCellID</li><li>Mozilla Location DB</li></ul></li><li><p>Not available when offline, cell DB too large</p></li><li><p>WLAN cells can move/change - frequent update required
<img src=https://i.imgur.com/FowUq39.png alt></p></li><li><p>Cell structure: circular (theory), hexagonal (planning), irregular (reality)</p></li><li><p>Neighbouring cells use different frequencies to minimise interference</p><ul><li>Some overlap inevitable</li></ul></li><li><p>Typical cell sizes:</p><ul><li>WiFi: 10m - 100m</li><li>3G (UMTS): 100m - 5km</li><li>2G (GSM): 100m - 35km
<img src=https://i.imgur.com/4s8Bv7g.png alt="7-cell cluster (commonly used)">
<img src=https://i.imgur.com/maI9ctM.png alt="cell characteristics"></li></ul></li></ul><blockquote><p>[!INFO] shape of cell affected by environment
5G has higher density</p></blockquote><a href=#proximity-sensors--near-field-communication><h2 id=proximity-sensors--near-field-communication><span class=hanchor arialabel=Anchor># </span>Proximity Sensors & Near Field Communication</h2></a><ul><li>Different technologies for sensing proximity or exchanging data (often dual purpose)<ul><li>Stand-alone infrastructure approaches</li><li>Not widely accepted due to special hardware requirements infrastructure costs (for tracking)</li></ul></li><li>Conceptually often similar to cell-based approaches but require extra infrastructure
<img src=https://i.imgur.com/AdxaFMb.png alt></li></ul><blockquote><p>[!INFO] smaller distances
require their own infrastructure</p></blockquote><ul><li>WIPS (Infrared)<ul><li>Beacons installed in the rooms sending unique ID</li><li>User’s badges receive signals of local beacons</li><li>Received beacon ID is sent to location server via WLAN</li><li>Server maps received beacon ID to semantic location which is sent back to the user</li></ul></li><li>Active Badge (Infrared)<ul><li>Users carry badge sending specific user ID</li><li>IR-receivers in the rooms receive those signals</li><li>Position of user is tracked by central server</li><li>Energy-efficient badges (sending short signals of 0,1s each 15s)
<img src=https://i.imgur.com/y2wweyT.png alt></li></ul></li></ul><blockquote><p>[!INFO] active badge and WIPS are the opposite of each other
WIPS - user recieves
AB - user transmits
used to track people is large building sometimes: IBM, the pentagon</p></blockquote><ul><li>Bluetooth Low Energy LE (Bluetooth specification 4.0)</li><li>Not to confuse with “classic” Bluetooth (e.g. used in headsets or for I/O devices)<ul><li>Optimized for battery powered sensors</li><li>Months or years of battery liftetime</li><li>Lower data rate (1MBIT/sec)</li><li>Backwards compatible (same frequency and modulation)
<img src=https://i.imgur.com/BKftnA4.png alt></li></ul></li></ul><blockquote><p>[!INFO] not classic bluetooth. doesn&rsquo;t send large amounts of data constantly</p></blockquote><ul><li>Two classes for peripherals:<ul><li>Beacons (pure static broadcasts:<ul><li>iBeacon simply broadcasts UUID</li><li>Additional data possible on request</li></ul></li><li>Sensors (broad/unicast with sensor data)<ul><li>Different profiles temperature, gravity, hear rate, pressure, …</li><li>Notification possible to avoid polling</li></ul></li><li>Bidirectional communication<ul><li>Not primarily focus, mostly for setting parameters</li></ul></li></ul></li></ul><blockquote><p>[!INFO] beacons send out theur UUID periodically, does not use much battery, low bandwith
sensors send out some data with the UUID</p></blockquote><ul><li>Location and Proximity Sensing using Bluetooth LE<ul><li>One beacon (e.g. per room)<ul><li>Pure proximity sensing, looking for strongest signal</li><li>E.g. Region monitoring to detect Beacon presence</li></ul></li><li>Many beacons (e.g. per room)<ul><li>Range calculation using Received Signal Strength Indicator (RSSI) and calibrated transmitter power (txPower = RSSI at 1m)</li><li>Trilateration using several beacons but not very accurate</li></ul></li></ul></li><li>Range different for beacons but typically between 20-50m (rarely 100m)
<img src=https://i.imgur.com/Xqh7cp0.png alt></li></ul><blockquote><p>[!INFO] can locate things using similar techniques to cell towers</p></blockquote><ul><li>Different protocols on top of Bluetooth LE<ul><li>iBeacon (Apple)<ul><li>Broadcasts a UUID</li><li>ID is used with database integrated in the app</li><li>Further information on request (e.g. range information)</li></ul></li><li>Eddystone (Google)<ul><li>Beacons broacasts information about the beacon (telemetry frame e.g. battery or sensor information)</li><li>Beacons broadcasts and redirects to an URL (physical web)</li></ul></li></ul></li></ul><p><img src=https://i.imgur.com/jVfJF41.png alt=|200></p></article><hr><div class=page-end><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://jethughes.github.io/notes/js/graph.afdb02e537635f9a611b53a988e5645b.js></script></div></div><div id=contact_buttons><footer><p>Made with <a href=https://obsidian.md>Obsidian</a> using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, 2023</p><ul><li><a href=/notes/>Home</a></li><li><a href=https://github.com/jethughes>Github</a></li><li><a href=https://www.linkedin.com/in/jet-hughes-b3b688237>LinkedIn</a></li></ul></footer></div></div></body></html>