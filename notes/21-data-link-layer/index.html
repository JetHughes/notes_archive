<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="data link layer services  transfer datgram from one node to physically adjacent node over a link terminology  hosts and routers: node communication channels between adjacent nodes: links  wired wireless LANs   layer-2 packet: frame, encapsulates datagram         services"><title>21-data-link-layer</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://jethughes.github.io/notes//icon.png><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Sans+Pro:wght@400;600;700&family=Fira+Code:wght@400;700&display=swap" rel=stylesheet><link href=https://jethughes.github.io/notes/styles.1a1ffb6f8cc2d9990f06b61d70c9b09b.min.css rel=stylesheet><script src=https://jethughes.github.io/notes/js/darkmode.46b07878b7f5d9e26ad7a3c40f8a0605.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script src=https://jethughes.github.io/notes/js/popover.688c5dcb89a57776d7f1cbeaf6f7c44b.min.js></script>
<script>const BASE_URL="https://jethughes.github.io/notes/",fetchData=Promise.all([fetch("https://jethughes.github.io/notes/indices/linkIndex.9ebe05390f0226df5b7dcf902b7cd61a.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://jethughes.github.io/notes/indices/contentIndex.adc28c46b4b55d6fc9cec4ef0910aeca.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n})),render=()=>{const n=new URL("https://jethughes.github.io/notes/"),s=n.pathname,o=window.location.pathname,i=s==o,e=document.getElementById("graph-container");if(!e)return requestAnimationFrame(render);e.textContent="";const t=i&&!1;drawGraph("https://jethughes.github.io/notes",t,[{"/moc":"#4388cc"}],t?{centerForce:1,depth:-1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.5,linkDistance:1,opacityScale:3,repelForce:1,scale:1.4}:{centerForce:1,depth:1,enableDrag:!0,enableLegend:!1,enableZoom:!0,fontSize:.6,linkDistance:1,opacityScale:3,repelForce:2,scale:1.2}),initPopover("https://jethughes.github.io/notes",!0,!0)},init=(e=document)=>{renderMathInElement(e.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})}</script><script type=module>
    import { attachSPARouting } from "https:\/\/jethughes.github.io\/notes\/js\/router.557a499829be51f9008c6efa5b73602a.min.js"
    attachSPARouting(init, render)
  </script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://jethughes.github.io/notes/js/search.cf33b507388f3dfd5513a2afcda7af41.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://jethughes.github.io/notes/>Jet's Notes</a></h1><svg tabindex="0" id="search-icon" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg><div class=spacer></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>21-data-link-layer</h1><p class=meta>Last updated December 8, 2022</p><ul class=tags><li><a href=https://jethughes.github.io/notes/tags/cosc203/>Cosc203</a></li><li><a href=https://jethughes.github.io/notes/tags/lecture/>Lecture</a></li></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#flow-control>flow control</a></li></ol><ol><li><a href=#parity-checking>parity checking</a></li><li><a href=#crc>CRC</a></li></ol><ol><li><a href=#mac-protocols>MAC protocols</a><ol><li><a href=#tdma-time-division-mulitple-access>TDMA time division mulitple access</a></li><li><a href=#fdma-freqency-division-multiple-access>FDMA freqency division multiple access</a></li><li><a href=#slotted-aloha>slotted ALOHA</a></li><li><a href=#pure-aloha>pure ALOHA</a></li><li><a href=#cmsa-carrier-sense-multiple-access>CMSA carrier sense multiple access</a></li><li><a href=#ethernet-csmacd>Ethernet CSMA/CD</a></li><li><a href=#taking-turns>taking turns</a></li></ol></li></ol></nav></details></aside><a href=#data-link-layer-services><h1 id=data-link-layer-services><span class=hanchor arialabel=Anchor># </span>data link layer services</h1></a><ul><li>transfer datgram from one node to <strong>physically adjacent</strong> node over a link</li><li>terminology<ul><li>hosts and routers: node</li><li>communication channels between adjacent nodes: links<ul><li>wired</li><li>wireless</li><li>LANs</li></ul></li><li>layer-2 packet: frame, encapsulates datagram<ul><li><img src=https://i.imgur.com/9RcK8WD.png alt></li></ul></li></ul></li></ul><p>services</p><ul><li>framing, link access:<ul><li>encapsulate datgram into frame, add head, trailer</li><li>do not use IP address<ul><li>use MAC address in frame headers</li></ul></li></ul></li><li>reliable delivery of data between adjacent nodes<ul><li>flow control: pacing between adjacent sending and recieving nodes</li><li>error detection and correction<ul><li>errors from: signal attenuation, noise</li><li>receiver detects errors and signals retransmission, or drops frame</li><li>reciever identifies and correct bit error(s) without retransmission</li></ul></li></ul></li></ul><p>implemented in network interface card: (NIC) or on a chip</p><ul><li>ethernet, WiFi card or chip</li><li>implements link and physical layer</li></ul><p>each NIC has a unique ID - MAC (medium access control)</p><ul><li>48 bits: six groups of two hex digits</li><li>also called physical address, ethernet hardware address</li><li>manufacturer buys portion of MAC adress space (to assure uniqueness)</li></ul><p><img src=https://i.imgur.com/No4evP9.png alt="interface communication diagram"></p><a href=#flow-control><h2 id=flow-control><span class=hanchor arialabel=Anchor># </span>flow control</h2></a><ul><li>dont send to much data otherwise it will overflow</li></ul><p>different from transport layer flow controls</p><ul><li>single link not end to end</li><li>frame oriented not byte oriented</li><li>als use sliding window scheme<ul><li>go back N and selective repeat</li></ul></li></ul><a href=#error-detection><h1 id=error-detection><span class=hanchor arialabel=Anchor># </span>Error detection</h1></a><ul><li>add bit(s) to detect and correct bit errors (i.e., redundancy)</li><li>bits are added before frame is send over link</li><li>when recieved if some bits are corrupted frame is dropped</li></ul><a href=#parity-checking><h2 id=parity-checking><span class=hanchor arialabel=Anchor># </span>parity checking</h2></a><p>single bit</p><ul><li>even parity: add parity bit and set so there is an even number of 1s</li><li>can detect single bit errors</li><li>cannot detect two bit errors</li></ul><p>two dimensional bit parity</p><ul><li>detect and correct single bit errors</li><li>detect two bit errors</li></ul><a href=#crc><h2 id=crc><span class=hanchor arialabel=Anchor># </span>CRC</h2></a><ul><li>more powerful error-checking coding</li><li>D: data bits</li><li>G: bit pattern (generator), of r+1 bits (given)</li></ul><p><img src=https://i.imgur.com/UdmWtad.png alt=slide></p><ul><li>widely used</li></ul><a href=#multiple-access-links-and-protocols><h1 id=multiple-access-links-and-protocols><span class=hanchor arialabel=Anchor># </span>multiple access links and protocols</h1></a><ul><li>single shared broadcast linl/channel<ul><li>shared wire or medium</li></ul></li><li>interference between two or more simultaneous tranmissions<ul><li>collision may occur if node recieves two or more signals at the same time</li></ul></li></ul><a href=#mac-protocols><h2 id=mac-protocols><span class=hanchor arialabel=Anchor># </span>MAC protocols</h2></a><ul><li>coordinates nodes sharing a channel</li><li>communication about channel sharing must use channel itself<ul><li>no out-of-band channel for coordination</li></ul></li></ul><p>classes</p><ul><li>channel partitinioning<ul><li>divide channel into smaller pieces: (time slots, frequency)</li><li>allocate piece to node for exclusive use</li><li>e.g., TDMA, FDMA</li></ul></li><li>random access: contention-based<ul><li>channel not divided, allows for collisions</li><li>&ldquo;recover&rdquo; from collisions</li><li>e.g., ALOHA, CSMA</li></ul></li><li>&ldquo;taking turns&rdquo;<ul><li>node takes turns, but nodes with more to send can take longer turns</li><li>e.g., token-passing</li></ul></li></ul><a href=#tdma-time-division-mulitple-access><h3 id=tdma-time-division-mulitple-access><span class=hanchor arialabel=Anchor># </span>TDMA time division mulitple access</h3></a><ul><li>acces to channel in &ldquo;rounds&rdquo;</li><li>each station gets a fixed length slot (length = packet transmission time) in each round</li><li>unused slots go idle</li></ul><a href=#fdma-freqency-division-multiple-access><h3 id=fdma-freqency-division-multiple-access><span class=hanchor arialabel=Anchor># </span>FDMA freqency division multiple access</h3></a><ul><li>channel spectrum divided into frequency bands</li><li>each station assigned fixed freqency band</li><li>unused bands go idle</li><li><img src=https://i.imgur.com/JOWIr1V.png alt></li><li>can communicate in parrallel</li></ul><a href=#slotted-aloha><h3 id=slotted-aloha><span class=hanchor arialabel=Anchor># </span>slotted ALOHA</h3></a><p>assumptions</p><ul><li>all frames same size</li><li>tiem divided into equal-size slots (time to transmit one frame)</li><li>start to transmit only slot beginning</li><li>nodes are synchronized</li><li>if two or more nodes transmit in a slot, all nodes detect collision</li></ul><p>operation</p><ul><li><p>when node obtains fresh frame, transmits in next slot</p><ul><li>if no collision: node can send new frame in next slot</li><li>if collision: node retransmits frame in each subsequent slot with probability p until success</li></ul></li><li><p>simple</p></li><li><p>decentralized</p></li><li><p>single node transmit at full rate</p></li><li><p>wasting slots: collisions idle slots</p></li><li><p>requires synchronisation</p></li></ul><p><img src=https://i.imgur.com/Mi269KZ.png alt></p><a href=#pure-aloha><h3 id=pure-aloha><span class=hanchor arialabel=Anchor># </span>pure ALOHA</h3></a><ul><li>unslotted aloha, no sync<ul><li>when first frame arrives, transmit immediately</li></ul></li><li>collision probability increases with no sync</li><li>less efficient that slotted aloha</li><li></li></ul><a href=#cmsa-carrier-sense-multiple-access><h3 id=cmsa-carrier-sense-multiple-access><span class=hanchor arialabel=Anchor># </span>CMSA carrier sense multiple access</h3></a><p>simple CSMA: listen before transmit:</p><ul><li>idle: transmit entire frame</li><li>busy: defer transmission</li></ul><p>CSMA/CD: CSMA with collision detection</p><ul><li>collisions detected within short time</li><li>colliding transmissions aborted, reducing channel wastage</li></ul><p>collisions can still occur with carrier sensing</p><ul><li>propagation delay means two nodes may not hear each others just-started transmissions</li><li>on a collision the entire packet transmission time is wasted<ul><li>distance and propagation delay play role in determining collision probability</li></ul></li></ul><a href=#ethernet-csmacd><h3 id=ethernet-csmacd><span class=hanchor arialabel=Anchor># </span>Ethernet CSMA/CD</h3></a><ol><li>nic recieves datagram and created frame</li><li>nic senses channel:<ol><li>if idle, start transmission</li><li>else wait wait until idle</li></ol></li><li>if nic transmits entire frame without collision, nic is done</li><li>if nic detect another transmission while sending, abort, send jam signal</li><li>after aborting, nic enters binary (exponential) backoff:<ol><li>after mth collision, nic chooses K at random from {0, 1, 2, &mldr;, 2^(m)-1}, nic waits K x 512 bit times, returns to step 2</li><li>more collisions: longer backoff interval</li></ol></li></ol><a href=#taking-turns><h3 id=taking-turns><span class=hanchor arialabel=Anchor># </span>taking turns</h3></a><p>polling:</p><ul><li>master node invites other nodes to transmit in turn</li><li>typically used with &ldquo;dumb&rdquo; devices</li><li>concerns:<ul><li>polling overhead</li><li>latency</li><li>single point of failure: master</li></ul></li></ul><p>token passing:</p><ul><li>control token passed from one node to next sequentially</li><li>a node can send data when it has the token</li><li>token message</li><li>concerns:<ul><li>token overhead</li><li>latency</li><li>signle point of failure: token</li></ul></li></ul></article><hr><div class=page-end><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div><div><script src=https://cdn.jsdelivr.net/npm/d3@6.7.0/dist/d3.min.js integrity="sha256-+7jaYCp29O1JusNWHaYtgUn6EhuP0VaFuswhNV06MyI=" crossorigin=anonymous></script><h3>Interactive Graph</h3><div id=graph-container></div><style>:root{--g-node:var(--secondary);--g-node-active:var(--primary);--g-node-inactive:var(--visited);--g-link:var(--outlinegray);--g-link-active:#5a7282}</style><script src=https://jethughes.github.io/notes/js/graph.afdb02e537635f9a611b53a988e5645b.js></script></div></div><div id=contact_buttons><footer><p>Made with <a href=https://obsidian.md>Obsidian</a> using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, 2022</p><ul><li><a href=/notes/>Home</a></li><li><a href=https://github.com/jethughes>Github</a></li><li><a href=https://www.linkedin.com/in/jet-hughes-b3b688237>LinkedIn</a></li></ul></footer></div></div></body></html>